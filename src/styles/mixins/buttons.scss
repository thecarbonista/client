@use "./focus";
@use "../variables" as var;

$button-padding: 0.5em;

@mixin reset-native-btn-styles {
  @include focus.outline-on-keyboard-focus;

  padding: 0px;
  margin: 0px;
  background-color: transparent;
  border-style: none;
}

/**
 * Basic color, sizing, padding and hover for buttons.
 */
@mixin button {
  @include reset-native-btn-styles;
  padding: $button-padding;

  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 2px;
  border: none;

  &__icon {
    width: 16px;
    height: 16px;
  }

  &:hover {
    transition: 0.2s ease-out;
    color: var.$grey-7;
  }
}

/* A button with an icon and no displayed text */
@mixin button--icon-only {
  @include button;
  color: var.$grey-mid;
  @media (pointer: coarse) {
    min-width: var.$touch-target-size;
    min-height: var.$touch-target-size;
  }
  &[aria-expanded='true'],
  &[aria-pressed='true'] {
    color: var.$color-brand;

    &:hover {
      color: var.$color-brand;
    }
  }
}

/* A button with displayed text. It may or may not have an icon. */
@mixin button--labeled {
  @include button;
  color: var.$grey-mid;
  font-weight: 700;
  background-color: var.$grey-1;

  &:hover {
    background-color: var.$grey-2;
  }

  &__icon {
    margin: 0 5px 0 0;
  }
}

/**
 * A labeled button that is a primary action.
 */
@mixin button--primary {
  @include button;
  @include button--labeled;
  color: var.$grey-1;
  background-color: var.$grey-mid;

  &:hover {
    color: var.$grey-1;
    background-color: var.$grey-6;
  }
}

/**
 * An icon-only button that sits to the right of a text-input field
 * (e.g. "copy to clipboard" button in share panels)
 */
@mixin button--input {
  @include button;
  color: var.$grey-mid;
  padding: 0.5em 0.75em;
  background-color: var.$grey-1;

  border-radius: 0; // Turn off border-radius to align with <input> edges
  border: 1px solid var.$grey-3;
  border-left: 0px; // Avoid double border with the <input>

  &:hover {
    background-color: var.$grey-2;
  }
}

/**
 * A button that is styled roughly like an `<a>` element (link-like)
 */
@mixin button--link {
  @include button;
  color: var.$grey-mid;
  padding: 0;
  &:hover {
    color: var.$color-link-hover;
    text-decoration: underline;
  }
}
